<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Innovia360 | AEJ Certification</title>
    <style>
        body { background: #0a0a0b; color: #00ff41; font-family: sans-serif; text-align: center; padding: 50px; }
        .box { border: 1px solid #00ff41; padding: 30px; border-radius: 10px; max-width: 500px; margin: auto; background: #111; }
        input { width: 80%; padding: 10px; margin: 10px; background: #000; border: 1px solid #333; color: #00ff41; }
        button { background: #00ff41; color: #000; padding: 15px 30px; border: none; cursor: pointer; font-weight: bold; }
        #result { margin-top: 20px; font-weight: bold; font-size: 1.2em; }
    </style>
</head>
<body>
    <h1>INNOVIA360 : AEJ ENGINE</h1>
    <p>Testez l'efficience de votre agent IA en temps réel.</p>
    
    <div class="box">
        <input type="text" id="agent" placeholder="Nom de votre Agent">
        <input type="number" id="tokens" placeholder="Tokens consommés">
        <input type="number" id="time" placeholder="Temps (secondes)">
        <br><br>
        <button onclick="runTest()">GÉNÉRER LE CERTIFICAT</button>
        <div id="result"></div>
    </div>

    <script>
        async function runTest() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerText = "Calcul en cours...";
            
            const response = await fetch('https://aej-api-1.onrender.com/certify', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'X-API-KEY': 'SLIM_ADMIN_2026' },
                body: JSON.stringify({
                    agent_id: document.getElementById('agent').value,
                    tokens: parseInt(document.getElementById('tokens').value),
                    compute_time: parseFloat(document.getElementById('time').value)
                })
            });
            
            const data = await response.json();
            resultDiv.innerHTML = "Score AEJ : " + data.aej_score + "/100<br><small>Signé : " + data.signature.substring(0,10) + "...</small>";
        }
    </script>
</body>

</html>
